function toggleInputViews(e){var r=$("#loginForm"),o=r.find("input, select, button, textarea");o.prop("disabled",e)}function showErrorAlert(e){var r=$("#login-alert"),o=$("#login-alert > .alert.alert-danger");o.text(e),r.slideDown().addClass("is-visible")}function handleLogin(){var e,r=($("#login-alert"),$("#loginForm"));r.submit(function(o){o.preventDefault();var n=r.serialize();toggleInputViews(!0),e&&e.abort(),e=$.ajax({url:"../php/loginHandler.php",type:"post",data:n}),e.done(loginResponseHandler),e.fail(loginErrorHandler)})}function loginResponseHandler(e,r,o){return"object"!=typeof e?(showErrorAlert("Please Contact Your Developer, Seems like Error on server"),!1):e.error?(showErrorAlert(e.message),toggleInputViews(!1),!1):(localStorage.setItem("role",e.user.role),localStorage.setItem("uid",e.user.uid),localStorage.setItem("username",e.user.username),void("admin"==e.user.role?window.location.href="../admin-panel/":"client"==e.user.role&&(window.location.href="../client-panel/")))}function loginErrorHandler(e,r,o){showErrorAlert("Please Contact Your Developer, Internal Server Error")}$(function(){handleLogin()});